---
import Layout from '../layouts/Layout.astro';
import { getEntry, render } from 'astro:content';
import { name, openGraph } from 'spectre:globals';

const aboutEntry = await getEntry('other', 'about');
console.log('About Entry:', aboutEntry); // Log for debugging

let AboutContent = null;
if (aboutEntry) {
  const { Content } = await render(aboutEntry);
  AboutContent = Content;
}
---

<Layout 
  title={`About | ${name}`}
  description={openGraph.home.description || 'About Paradise Labs'}
>
  {aboutEntry && AboutContent ? (
    <>
      <h1>{aboutEntry.data.title}</h1> {/* Use title from frontmatter */}
      <div class="prose">
        <AboutContent />
      </div>
    </>
  ) : (
    <>
      <h1>About Page Not Found</h1>
      <p>The content for the about page could not be loaded. Please check the logs.</p>
      <p>Attempted to load: 'other' collection, 'about' slug.</p>
      {/* Displaying the raw entry for further debugging if needed */}
      <pre>Debug: aboutEntry was {JSON.stringify(aboutEntry, null, 2)}</pre>
    </>
  )}
</Layout>
