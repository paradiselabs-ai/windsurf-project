---
import Layout from '../layouts/Layout.astro';
import { getEntry } from 'astro:content';
import { name, openGraph } from 'spectre:globals';

const aboutEntry = await getEntry('other', 'about');
console.log('About Entry:', aboutEntry); // Log for debugging
---

<Layout 
  title={`About | ${name}`}
  description={openGraph.home.description || 'About Paradise Labs'}
>
  {aboutEntry ? (
    <>
      <h1>{aboutEntry.data.title}</h1>
      <div class="prose">
        {/* Render the content sections directly from the JSON structure */}
        <div set:html={aboutEntry.data.content.intro} />
        <div set:html={aboutEntry.data.content.mission} />
        <div set:html={aboutEntry.data.content.vision} />
        <div set:html={aboutEntry.data.content.values} />
        <div set:html={aboutEntry.data.content.closing} />
      </div>
    </>
  ) : (
    <>
      <h1>About Page Not Found</h1>
      <p>The content for the about page could not be loaded. Please check the logs.</p>
      <p>Attempted to load: 'other' collection, 'about' slug.</p>
      {/* Displaying the raw entry for further debugging if needed */}
      <pre>Debug: aboutEntry was {JSON.stringify(aboutEntry, null, 2)}</pre>
    </>
  )}
</Layout>
